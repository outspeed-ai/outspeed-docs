---
title: "Tool Use"
description: "Enable AI agents to use external tools and APIs"
---

# Tool Use

Tool Use allows your AI agents to interact with external systems, APIs, and services during voice conversations, extending their capabilities beyond just speech.

## Overview

With Tool Use, agents can:
- Call external APIs
- Query databases
- Perform calculations
- Access real-time information
- Execute custom functions
- Integrate with third-party services

## Basic Setup

### Define Tools

```javascript
const tools = [
  {
    name: "get_weather",
    description: "Get current weather information for a location",
    parameters: {
      type: "object",
      properties: {
        location: {
          type: "string",
          description: "City name or location"
        }
      },
      required: ["location"]
    }
  },
  {
    name: "calculate",
    description: "Perform mathematical calculations",
    parameters: {
      type: "object",
      properties: {
        expression: {
          type: "string",
          description: "Mathematical expression to evaluate"
        }
      },
      required: ["expression"]
    }
  }
];
```

### Tool Implementation

```javascript
const toolHandlers = {
  get_weather: async (params) => {
    const { location } = params;
    const response = await fetch(`https://api.weather.com/v1/current?location=${location}`);
    const data = await response.json();
    return {
      temperature: data.temperature,
      condition: data.condition,
      humidity: data.humidity
    };
  },
  
  calculate: async (params) => {
    const { expression } = params;
    try {
      const result = eval(expression); // Use a safer eval alternative in production
      return { result };
    } catch (error) {
      return { error: "Invalid expression" };
    }
  }
};
```

### Configure Agent

```javascript
const agent = await outspeedClient.createAgent({
  model: "gpt-4",
  tools: tools,
  toolHandler: async (toolCall) => {
    const { name, parameters } = toolCall;
    const handler = toolHandlers[name];
    
    if (handler) {
      return await handler(parameters);
    }
    
    return { error: "Tool not found" };
  }
});
```

## Advanced Examples

### Database Integration

```javascript
const dbTools = [
  {
    name: "search_customers",
    description: "Search for customers in the database",
    parameters: {
      type: "object",
      properties: {
        query: { type: "string", description: "Search query" },
        limit: { type: "number", description: "Maximum results" }
      },
      required: ["query"]
    }
  }
];

const dbHandler = {
  search_customers: async (params) => {
    const { query, limit = 10 } = params;
    const customers = await database.customers.search(query, limit);
    return { customers };
  }
};
```

### API Integration

```javascript
const apiTools = [
  {
    name: "send_email",
    description: "Send an email to a recipient",
    parameters: {
      type: "object",
      properties: {
        to: { type: "string", description: "Recipient email" },
        subject: { type: "string", description: "Email subject" },
        body: { type: "string", description: "Email body" }
      },
      required: ["to", "subject", "body"]
    }
  }
];

const apiHandler = {
  send_email: async (params) => {
    const { to, subject, body } = params;
    const result = await emailService.send({
      to,
      subject,
      body
    });
    return { messageId: result.messageId, status: "sent" };
  }
};
```

## Tool Configuration

### Tool Definition Schema

```javascript
{
  name: "string",              // Unique tool identifier
  description: "string",       // What the tool does
  parameters: {                // JSON Schema for parameters
    type: "object",
    properties: {
      paramName: {
        type: "string|number|boolean|array|object",
        description: "Parameter description"
      }
    },
    required: ["requiredParam"]
  }
}
```

### Tool Handler Response

```javascript
// Success response
{
  data: any,           // Tool execution result
  status: "success"    // Optional status
}

// Error response
{
  error: "string",     // Error message
  status: "error"      // Optional status
}
```

## Best Practices

1. **Clear Descriptions**: Write clear, specific tool descriptions
2. **Parameter Validation**: Validate tool parameters before execution
3. **Error Handling**: Provide meaningful error messages
4. **Async Operations**: Use async/await for API calls
5. **Security**: Validate and sanitize all inputs
6. **Rate Limiting**: Implement rate limiting for external API calls

## Common Use Cases

### Customer Service
```javascript
const customerServiceTools = [
  { name: "lookup_order", description: "Look up order information" },
  { name: "update_address", description: "Update customer address" },
  { name: "process_refund", description: "Process a refund request" }
];
```

### E-commerce
```javascript
const ecommerceTools = [
  { name: "search_products", description: "Search for products" },
  { name: "check_inventory", description: "Check product availability" },
  { name: "add_to_cart", description: "Add item to shopping cart" }
];
```

### Booking System
```javascript
const bookingTools = [
  { name: "check_availability", description: "Check appointment availability" },
  { name: "book_appointment", description: "Book an appointment" },
  { name: "send_confirmation", description: "Send booking confirmation" }
];
```

## Error Handling

```javascript
const toolHandler = async (toolCall) => {
  try {
    const { name, parameters } = toolCall;
    const handler = toolHandlers[name];
    
    if (!handler) {
      return { error: `Tool '${name}' not found` };
    }
    
    const result = await handler(parameters);
    return result;
  } catch (error) {
    console.error('Tool execution error:', error);
    return { error: "Tool execution failed" };
  }
};
```

## Events

Listen for tool usage events:

```javascript
outspeedClient.on('toolCalled', (event) => {
  console.log('Tool called:', event.toolName);
  console.log('Parameters:', event.parameters);
});

outspeedClient.on('toolCompleted', (event) => {
  console.log('Tool completed:', event.toolName);
  console.log('Result:', event.result);
});
```